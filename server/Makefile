# Makefile

CC = gcc
CFLAGS = -Wall -pthread
TARGET = server
SRCS = server.c

.PHONY: all clean deps run

# ê¸°ë³¸ make ëª…ë ¹: ì„¤ì¹˜ + ë¹Œë“œ
all: deps $(TARGET)

# ì»´íŒŒì¼
$(TARGET): $(SRCS)
	$(CC) $(CFLAGS) -o $(TARGET) $(SRCS)

# ì˜ì¡´ì„± ìë™ ì„¤ì¹˜
deps:
	@echo "ğŸ”§ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜ ì¤‘ì…ë‹ˆë‹¤ (gcc, build-essential)..."
	sudo apt-get update
	sudo apt-get install -y gcc build-essential

# ì„œë²„ ì‹¤í–‰
run: all
	@echo "ğŸš€ ì„œë²„ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤..."
	./$(TARGET)

# ì •ë¦¬
clean:
	rm -f $(TARGET)
